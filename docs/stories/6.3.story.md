---
epic: 6
story-id: 3
title: "(Technical Task) Configure Basic CI/CD Pipeline"
status: "Draft"
---

### 1. Goal

To create a basic CI/CD pipeline using GitHub Actions that automatically builds and tests the frontend and backend applications on each push, ensuring code quality and preventing regressions.

### 2. Acceptance Criteria

1.  A new GitHub Actions workflow file is created (e.g., `.github/workflows/ci.yml`).
2.  The workflow is configured to trigger on `push` events to the `main` branch and on `pull_request` events.
3.  The workflow includes a job for the backend (`api`) application.
4.  The backend job checks out the code, sets up the correct Python version, installs dependencies, and runs `pytest`.
5.  The workflow includes a separate job for the frontend (`web`) application.
6.  The frontend job checks out the code, sets up Node.js, installs dependencies using `npm ci`, and runs the test command (`npm test`).
7.  The entire workflow succeeds if and only if all jobs pass.

### 3. Dev Notes

#### Technical Context
*   This task automates the testing strategies defined in the `architecture.md` document.
*   It relies on the monorepo structure from Story 6.1.
*   The focus is on continuous integration (CI), not continuous deployment (CD), for the MVP.
*   `[Source: architecture.md#3.1 Technology Stack Table]` (Mentions GitHub Actions).

#### File Locations
*   A new file will be created at `.github/workflows/ci.yml`.

### 4. Tasks / Subtasks

1.  **Create Workflow File (AC: 1)**
    *   [ ] Create the `.github/workflows` directory in the project root.
    *   [ ] Create a new file named `ci.yml` inside it.
2.  **Define Workflow Triggers (AC: 2)**
    *   [ ] In `ci.yml`, define the `on` trigger for `push` (branches: `[ main ]`) and `pull_request` (branches: `[ main ]`).
3.  **Create Backend Job (AC: 3, 4)**
    *   [ ] Define a new job named `api-ci`.
    *   [ ] Add steps to:
        *   `actions/checkout@v3`
        *   `actions/setup-python@v4` with the correct Python version.
        *   Install dependencies (e.g., `pip install -r apps/api/requirements.txt`).
        *   Run tests (`pytest apps/api`).
4.  **Create Frontend Job (AC: 5, 6)**
    *   [ ] Define a new job named `web-ci`.
    *   [ ] Add steps to:
        *   `actions/checkout@v3`
        *   `actions/setup-node@v3` with the correct Node.js version.
        *   Install dependencies (`npm ci --prefix apps/web`).
        *   Run tests (`npm test --prefix apps/web`).
5.  **Verify Workflow (AC: 7)**
    *   [ ] Commit and push the new workflow file to a test branch and open a pull request to verify it runs and passes successfully.

### 5. QA Results
*   *Pending*
